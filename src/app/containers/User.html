<div class="max-width-2 mx-auto">

  <logo link="true"></logo>

  <div class="mb4 mt2 bg-white border border-silver overflow-hidden">

    <div ng-if="$ctrl.user">

      <div class="p3 flex">
        <div class="col-6 sm-col-4">
          <img ng-src="{{ $ctrl.user.avatar_url }}" class="fit rounded" alt="" />
        </div>
        <div class="flex-auto flex flex-column justify-center pl2">
          <h1 class="h2 m0">{{ $ctrl.user.name }}</h1>
          <h2 class="h3 m0 regular">{{ $ctrl.user.login }}</h2>
          <span class="mt1 border-top border-silver"></span>
          <div class="flex mt1">
            <i class="material-icons muted" style="font-size: 18px">access_time</i>
            <small class="pl1">Joined {{ $ctrl.user.created_at | date: 'y' }}</small>
          </div>
          <div class="flex mt1" ng-if="$ctrl.user.company.slice(0, 1) === '@'">
            <i class="material-icons muted" style="font-size: 18px">work</i>
            <small class="pl1"><a class="text-decoration-none" ui-sref="users({ user: $ctrl.user.company.slice(1) })">{{ $ctrl.user.company }}</a></small>
          </div>
          <div class="flex mt1">
            <i class="material-icons muted" style="font-size: 18px">people</i>
            <small class="pl1">{{ $ctrl.user.followers }} followers</small>
          </div>
        </div>
      </div>

      <div ng-if="$ctrl.user.repos.length">
        <h2 class="center m0 py2 bg-blue white">
          Public Repositories <small class="muted">({{ $ctrl.user.repos.length }})</small>
        </h2>
        <div class="">
          <div class="p2 border-top border-bottom border-silver" ng-repeat="repo in $ctrl.user.repos">
            <h5 class="h4 m0">
              <a class="text-decoration-none" ui-sref="repos({ repo: repo.full_name.replace('/', '::') })" ng-bind="repo.full_name"></a>
            </h5>
            <p class="m0 muted" ng-if="repo.description" style="line-height: 1">
              <small ng-bind="repo.description"></small>
            </p>
            <div class="flex mt1">
              <div class="flex-auto relative flex items-center">
                <span ng-if="repo.language" class="flex items-center">
                  <i class="muted material-icons absolute left-0 muted" style="font-size: 18px">code</i>
                  <span class="pl2 ml1" ng-bind="repo.language"></span>
                </span>
              </div>
              <div ng-if="repo.forks_count > 0" class="relative flex items-center ml2" style="min-width: 30px;">
                <i class="muted material-icons absolute left-0 muted" style="font-size: 18px">call_split</i>
                <span class="pl2 ml1" ng-bind="repo.forks_count"></span>
              </div>
              <div ng-if="repo.open_issues_count > 0" class="relative flex items-center ml2" style="min-width: 30px;">
                <i class="muted material-icons absolute left-0 muted" style="font-size: 18px">info_outline</i>
                <span class="pl2 ml1" ng-bind="repo.open_issues_count"></span>
              </div>
              <div ng-if="repo.stargazers_count > 0" class="relative flex items-center ml2" style="min-width: 30px;">
                <i class="muted material-icons absolute left-0 muted" style="font-size: 18px">star_rate</i>
                <span class="pl2 ml1" ng-bind="repo.stargazers_count"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div ng-if="!$ctrl.user.repos.length">
        <h2 class="h3 center m0 py2 bg-darken-1 border-top border-bottom border-silver">
          User has no public repositories
        </h2>
      </div>

    </div>

    <div ng-if="$ctrl.error.message" class="px2 py4 muted center">
      <p class="bold">{{ $ctrl.error.message }}</p>
    </div>
  </div>
</div>
